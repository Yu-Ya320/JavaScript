<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<style>
    #header {
        margin: auto;
        margin-bottom: 5px;
        background-color: lightgreen;
        text-align: center;
    }
    #bord div {
        border: 1px solid;
        width: 200px;
        height: 200px;
        font-size: 100px;
        line-height: 200px;
        text-align: center;
    }
    #bord {
        margin: auto;
        width: 600px;
        border: 1px solid;
        display: grid;
        grid-template-columns: 200px 200px 200px;
        
    }
    h1 {
        margin: auto;
        text-align: center;
    }
</style>
<body>
    <div id="header"><h1>○×ゲーム</h1></div>
    <div id="bord">
        <!-- <div class="masu1"></div>
        <div class="masu2"></div>
        <div class="masu3"></div>
        <div class="masu4"></div>
        <div class="masu5"></div>
        <div class="masu6"></div>
        <div class="masu7"></div>
        <div class="masu8"></div>
        <div class="masu9"></div> -->
        <div class="masu"></div>
        <div class="masu"></div>
        <div class="masu"></div>
        <div class="masu"></div>
        <div class="masu"></div>
        <div class="masu"></div>
        <div class="masu"></div>
        <div class="masu"></div>
        <div class="masu"></div>
    </div>
    <h1><div>Click ○</div></h1>

    <script>
        // 関数定義…引数としてクラスを取得して、実行する関数
        // let count = 0;
        // const createMaruBatsu = function(clsName){
        //     const masuEl = document.querySelector(clsName);// クラスを指定する変数
         
        //     masuEl.addEventListener("click",function(){// ○を作る関数,クリックしたときに、動作するメソッド
        //         if(count%2 === 0){
        //             masuEl.textContent = "○"
        //         }
        //         else if (count%2 === 1){
        //             masuEl.textContent = "×";
        //         }
        //         console.log(count)
        //         count++;
        //     })
        // }

        // console.log(document.querySelectorAll("div div").item(1))
        // document.querySelectorAll("div div").item(1).textContent = "AAA"        
        

        // // 関数の実行…引数として、クラス名を渡している
        // createMaruBatsu(".masu1");
        // createMaruBatsu(".masu2");
        // createMaruBatsu(".masu3");
        // createMaruBatsu(".masu4");
        // createMaruBatsu(".masu5");
        // createMaruBatsu(".masu6");
        // createMaruBatsu(".masu7");
        // createMaruBatsu(".masu8");
        // createMaruBatsu(".masu9");
        

// querySelectorAllで全ての要素を指定
        // 配列を定義
        const masuArray = ["1","2","3","4","5","6","7","8","9"];
        const ChangeText = function(){
            document.querySelector("h1 div").textContent = "You Win!";
            document.querySelector("h1 div").style.color = "red";
        }
        const judge = function(){
            if(masuArray[0] === masuArray[1] && masuArray[0] === masuArray[2]){
                ChangeText();
                console.log("You Win!");
            }else if(masuArray[3] == masuArray[4] && masuArray[3] == masuArray[5]){
                ChangeText();
                console.log("You Win!");
            }else if(masuArray[6] == masuArray[7] && masuArray[6] == masuArray[8]){
                ChangeText();
                console.log("You Win!");
            }else if(masuArray[0] == masuArray[3] && masuArray[0]== masuArray[6]){
                ChangeText();
                console.log("You Win!");
            }else if(masuArray[1] == masuArray[4] && masuArray[1] == masuArray[7]){
                ChangeText();
                console.log("You Win!");
            }else if(masuArray[2] == masuArray[5] && masuArray[2] == masuArray[8]){
                ChangeText();
                console.log("You Win!");
            }else if(masuArray[0] == masuArray[4] && masuArray[0] == masuArray[8]){
                ChangeText();
                console.log("You Win!");
            }else if(masuArray[2] == masuArray[4] && masuArray[2] == masuArray[6]){
                ChangeText();
                console.log("You Win!");
            }

        }
        let count = 0;// 関数の外で宣言しないと、呼び出される度に0から始まる
        // 関数宣言…引数として、行番号を受け取る
        const createMaruBatsu = function(i){
            const masuEl = document.querySelectorAll(".masu").item(i);// クラスを指定する変数
            const h1DivText = document.querySelector("h1 div");
            // クリックしたときに、○×を作る関数
            const clickEvent = function(){
                if(count%2 === 0){
                    masuEl.textContent = "○";
                    h1DivText.textContent = "Click ×";
                }
                else if (count%2 === 1){
                    masuEl.textContent = "×";
                    h1DivText.textContent = "Click ○";
                }
                console.log(count)
                count++;
                masuArray[i] = masuEl.textContent;// 配列の添え字の番号に、クリックしたときのテキストを代入
                console.log(masuArray);// クリックされた時の、配列の中身を表示
                judge();
            }
            // クリックしたときに動作するメソッド
            masuEl.addEventListener("click",clickEvent
                // if(count%2 === 0){
                //     masuEl.textContent = "○";
                //     h1DivText.textContent = "Click ×";
                // }
                // else if (count%2 === 1){
                //     masuEl.textContent = "×";
                //     h1DivText.textContent = "Click ○";
                // }
                // console.log(count)
                // count++;
                // masuArray[i] = masuEl.textContent;// 配列の添え字の番号に、クリックしたときのテキストを代入
                // console.log(masuArray);// クリックされた時の、配列の中身を表示
                // judge();
            )
        }
        
        

        // 関数の実行…行番号の0～8をfor文で取得し、引数として渡す
        for(let i = 0; i < 9;i++){
           createMaruBatsu(i);
        }

       
       
       

        
       
        // createMaruBatsu(".masu",1);
        // createMaruBatsu(".masu",2);
        // createMaruBatsu(".masu",3);
        // createMaruBatsu(".masu",4);
        // createMaruBatsu(".masu",5);
        // createMaruBatsu(".masu",6);
        // createMaruBatsu(".masu",7);
        // createMaruBatsu(".masu",8);
   

        // const masuEl = document.querySelector(clsName);//クラスを指定する変数
        // const changeMaru = function(){//○を作る関数
        //     masuEl.textContent = "○";
        // }
        // masuEl.addEventListener("click",changeMaru)//クリックしたときに○を作る文

        
        
        // const clsName2 = document.querySelector(".masu2");//クラスを指定する変数
        // const createMaru2 = function(){//○を作る関数
        //     clsName2.textContent = "○";
        // }
        // clsName2.addEventListener("click",createMaru2)//クリックしたときに○を作る文

    </script>
</body>
</html>














